<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Soure — Game</title>
  <link rel="stylesheet" href="/styles.css" />
</head>
<body>
  <div class="game-page">
    <header class="game-topbar">
      <div class="game-topbar-left">
        <a href="/" class="game-back-btn" aria-label="Back to menu">← Back to Menu</a>
        <span class="game-topbar-sep" aria-hidden="true">|</span>
        <span id="gameTopbarGameId" class="game-topbar-gameid">Game ID: —</span>
        <span id="gameTimer" class="game-timer hidden" aria-live="polite">Time: 00:00</span>
      </div>
    </header>

    <div class="game-container">
    <section class="game-lobby" id="lobbySection" aria-label="Lobby">
      <div class="game-lobby-create" id="lobbyCreateJoin">
        <button type="button" class="btn" id="createBtn" aria-label="Create a new game">Create Game</button>
        <label for="joinInput" class="visually-hidden">Game ID to join</label>
        <input type="text" class="input" id="joinInput" placeholder="Game ID" aria-label="Game ID to join" />
        <button type="button" class="btn" id="joinBtn" aria-label="Join game">Join Game</button>
      </div>
      <div class="game-lobby-room hidden" id="lobbyRoom">
        <div class="game-lobby-slots" id="lobbyPlayers" role="list" aria-label="Player slots"></div>
        <div class="game-lobby-start-wrap" id="lobbyStartBtn">
          <button type="button" class="btn btn-lobby-start" id="startBtnLobby" aria-label="Start the game">Start Game</button>
        </div>
      </div>
    </section>

    <section class="game-section hidden" id="gameInfoSection">
      <div class="game-layout-main">
        <aside class="game-sidebar">
          <h3>Players</h3>
          <div id="playerList" class="player-list-detailed"></div>
        </aside>

        <div class="game-board-container">
          <div id="hexBoard" class="hex-board"></div>
        </div>

        <aside class="game-actions-panel">
          <div class="dice-panel-inline">
            <div id="diceContainer" class="dice-container-inline">
              <div class="dice-card dice-slot" id="dice1"><img id="dice1Img" alt="" class="dice-img"/><span id="dice1Text" class="dice-text">?</span></div>
              <div class="dice-card dice-slot" id="dice2"><img id="dice2Img" alt="" class="dice-img"/><span id="dice2Text" class="dice-text">?</span></div>
            </div>
            <div id="diceResult" class="dice-result-inline hidden"></div>
            <div class="game-actions-inline">
              <button type="button" class="btn btn-primary hidden" id="rollBtn">Roll Dice</button>
              <button type="button" class="btn hidden" id="endTurnBtn">End Turn</button>
              <button type="button" class="btn hidden" id="blockTileBtn">Block Tile</button>
            </div>
          </div>
        </aside>
      </div>

      <div id="breachPanel" class="breach-panel hidden">
        <h3>Breach! Choose a tile to block:</h3>
        <div id="tileSelection" class="tile-selection"></div>
      </div>

      <div id="buildingPanel" class="building-panel hidden">
        <h3>Place Building</h3>
        <div class="building-options">
          <button type="button" class="btn" data-building="outpost">Outpost (1 stone, 1 water) - 1 DP</button>
          <button type="button" class="btn" data-building="bastion">Bastion (1 iron, 1 food) - +1 Defense</button>
        </div>
        <p class="building-hint">Select a building type, then click a tile on the board to place it</p>
        <p class="building-hint" style="font-size: 0.75rem; margin-top: 4px;">Upgrades: Outpost → Citadel (2 stone, 2 food) → Capital (3 stone, 3 iron, 2 gold)</p>
      </div>
    </section>

    <section class="game-section hidden" id="resourcesSection">
      <h3>Resources</h3>
      <div class="resources-grid" id="resourcesGrid"></div>
    </section>

    <section class="game-section hidden" id="logSection">
      <h3>Event log</h3>
      <div class="event-log" id="eventLog"></div>
    </section>

    <div class="error-msg hidden" id="errorEl" role="alert"></div>
    </div>
  </div>

  <div class="inventory-bar hidden" id="inventoryBar">
    <div class="inventory-content">
      <span class="inventory-label">My Resources:</span>
      <div class="inventory-chips" id="inventoryChips"></div>
    </div>
  </div>

  <script src="/socket.io/socket.io.js"></script>
  <script src="/game.js"></script>
</body>
</html>
